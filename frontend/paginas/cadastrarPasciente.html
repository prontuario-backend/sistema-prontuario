<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Cadastrar</title>
		<link rel="stylesheet" href="../css/cadastrar.css" />
		<link rel="stylesheet" href="../css/style.css" />
		<link rel="shortcut icon" href="imagens/favicon.ico" type="image/x-icon" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
		/>
	</head>

	<body>
		<script src="/frontend/js/cadastro.js"></script>
		<!-- INICIO do HEADER -->
		<div class="header shadow">
			<div class="logo">
				<i class="fa-solid fa-notes-medical"></i>
				<p>UNI-TI</p>
			</div>
			<div class="login">
				<i class="fa-solid fa-user-doctor"></i>
				<p id="name">Dr. Paulo</p>
				<p id="profissao">Médico</p>
				<a href="/frontend/index.html"
					><i class="fa-solid fa-arrow-right-from-bracket"></i
				></a>
			</div>
		</div>
		<!-- FIM do HEADER -->
		<!-- INICIO do conteudo principal -->
		<div class="main">
			<!-- INICIO do NAVBAR -->
			<div class="navbar shadow">
				<h1 class="dados">DADOS</h1>
				<ul>
					<li class="itemList" id="navPaciente">
						<a href="/frontend/paginas/pacientes.html"
							><i class="icon fa-solid fa-user"></i
							><span class="spanNone">Pacientes</span></a
						>
					</li>
					<li class="itemList" id="navAgenda">
						<a href="/frontend/paginas/anamnese.html"
							><i class="icon fa-solid fa-notes-medical"></i
							><span class="spanNone">Anamnese</span></a
						>
					</li>
					<li class="itemList" id="navServicos">
						<a href="/frontend/paginas/anotacoes.html"
							><i class="icon fa-solid fa-clipboard"></i
							><span class="spanNone">Anotações</span></a
						>
					</li>
					<li class="itemList" id="navFinanceiro">
						<a href="/frontend/paginas/balancohidrico.html"
							><i class="icon fa-solid fa-droplet"></i
							><span class="spanNone">Balanço Hídrico</span></a
						>
					</li>
				</ul>
				<div class="buttonPosition">
					<div class="btn-buscar">
						<a href="/frontend/paginas/buscar.html">BUSCAR</a>
					</div>
				</div>
			</div>
			<!-- FIM do NAVBAR -->
			<!-- INICIO do CONTEUDO -->
			<div class="conteudo shadow">
				<form id="form">
					<div class="container-cadastro">
						<div class="row">
							<div class="container-item">
								<label>Nome</label>
								<input type="text" id="nome" />
								<div class="error-message" id="error-nome"></div>
							</div>
							<div class="container-item">
								<label>Telefone Residencial</label>
								<input type="text" id="telefone" />
								<div class="error-message" id="error-nome-social"></div>
							</div>
							<div class="container-item">
								<label>Idade</label>
								<input type="text" id="idade" />
								<div class="error-message" id="error-idade"></div>
							</div>
						</div>
						<div class="row">
							<div class="container-item">
								<label>CPF</label>
								<input type="text" id="cpf" />
								<div class="error-message" id="error-cpf"></div>
							</div>
							<div class="container-item">
								<label>Sexo</label>
								<input type="text" id="sexo" />
							</div>
							<div class="container-item">
								<label>Raça</label>
								<input type="text" id="raca" />
							</div>
						</div>
						<div class="row">
							<div class="container-item">
								<label>Data de Nasc.</label>
								<input type="text" id="data-nascimento" />
								<div class="error-message" id="error-data-nascimento"></div>
							</div>
							<div class="container-item">
								<label>Altura</label>
								<input type="text" id="altura" />
								<div class="error-message" id="error-altura"></div>
							</div>
							<div class="container-item">
								<label>Peso</label>
								<input type="text" id="peso" />
								<div class="error-message" id="error-peso"></div>
							</div>
						</div>
						<div class="row">
							<div class="container-item">
								<label>Mãe</label>
								<input type="text" id="mae" />
								<div class="error-message" id="error-mae"></div>
							</div>
							<div class="container-item">
								<label>Pai</label>
								<input type="text" id="pai" />
								<div class="error-message" id="error-pai"></div>
							</div>
							<div class="container-item">
								<label>CEP</label>
								<input type="text" id="cep" />
								<div class="error-message" id="error-cep"></div>
							</div>
						</div>
						<div class="row">
							<div class="container-item">
								<label>E-mail</label>
								<input type="email" id="email" />
								<div class="error-message" id="error-email"></div>
							</div>
							<div class="container-item">
								<label>Endereço</label>
								<input type="text" id="endereco" />
							</div>
							<div class="container-item">
								<label>Celular</label>
								<input type="text" id="celular" />
								<div class="error-message" id="error-celular"></div>
							</div>
						</div>
						<div class="posicionar-botao">
							<button
								type="button"
								id="btnCadastrar"
								class="botao"
								onclick="save()"
							>
								Cadastrar
							</button>
						</div>
					</div>
				</form>
			</div>
			<!-- FIM do CONTEUDO -->
		</div>
		<script>
			if (
				window.localStorage.getItem("paciente") != null &&
				window.localStorage.getItem("paciente") != undefined
			) {
				let json = JSON.parse(window.localStorage.getItem("paciente"));
				let nome = (document.querySelector("#nome").value = json.nome);
				let tel = (document.querySelector("#telefone").value = json.tel);
				let idade = (document.querySelector("#idade").value = json.idade);
				let cpf = (document.querySelector("#cpf").value = json.cpf);
				let sexo = (document.querySelector("#sexo").value = json.sexo);
				let raca = (document.querySelector("#raca").value = json.raca);
				let data_nasc = (document.querySelector("#data-nascimento").value =
					json.data_nasc);
				let peso = (document.querySelector("#peso").value = json.peso);
				let altura = (document.querySelector("#altura").value = json.altura);
				let mae = (document.querySelector("#mae").value = json.mae);
				let pai = (document.querySelector("#pai").value = json.pai);
				let cep = (document.querySelector("#cep").value = json.cep);
				let email = (document.querySelector("#email").value = json.email);
				let endereco = (document.querySelector("#endereco").value =
					json.endereco);
				let celular = (document.querySelector("#celular").value = json.celular);
			}
			console.log(window.localStorage.getItem("paciente"));
			function save() {
				let nome = document.querySelector("#nome").value;
				let tel = document.querySelector("#telefone").value;
				let idade = document.querySelector("#idade").value;
				let cpf = document.querySelector("#cpf").value;
				let sexo = document.querySelector("#sexo").value;
				let raca = document.querySelector("#raca").value;
				let data_nasc = document.querySelector("#data-nascimento").value;
				let peso = document.querySelector("#peso").value;
				let altura = document.querySelector("#altura").value;
				let mae = document.querySelector("#mae").value;
				let pai = document.querySelector("#pai").value;
				let cep = document.querySelector("#cep").value;
				let email = document.querySelector("#email").value;
				let endereco = document.querySelector("#endereco").value;
				let celular = document.querySelector("#celular").value;

				class User {
					nome;
					tel;
					idade;
					cpf;
					sexo;
					raca;
					data_nasc;
					peso;
					altura;
					peso;
					mae;
					pai;
					cep;
					email;
					endereco;
					celular;
					constructor(
						nome,
						tel,
						idade,
						cpf,
						sexo,
						raca,
						data_nasc,
						peso,
						altura,
						mae,
						pai,
						cep,
						email,
						endereco,
						celular
					) {
						this.nome = nome;
						this.tel = tel;
						this.idade = idade;
						this.cpf = cpf;
						this.sexo = sexo;
						this.raca = raca;
						this.data_nasc = data_nasc;
						this.peso = peso;
						this.altura = altura;
						this.peso = peso;
						this.mae = mae;
						this.pai = pai;
						this.cep = cep;
						this.email = email;
						this.endereco = endereco;
						this.celular = celular;
					}
				}
				let json = new User(nome, tel, idade, cpf, sexo, raca, data_nasc, peso, altura, mae, pai, cep, email, endereco, celular);
                telefone.value = '';
				json = JSON.stringify(json);
				window.localStorage.setItem("paciente", json);
			}
		</script>
	</body>
</html>
